//- редактирование поста
ng-form(method="post")
    .form-group
        label(for='title') заголовок:
        textarea.form-control(ng-model='title', name='title', row=10)
    .form-group
        p картинка в заголовке:
        img(src='uploads/{{image}}', style="width:120px; height: 120px")
        #target(ondrop='drop_handler(event);', ondragover='dragover_handler(event);') Drop Zone
    .form-group
        label(for='body') текст новости
        textarea#my_editor(ui-tinymce="tinymceOptions", ng-model="tinymceModel")
        iframe#form_target(name='form_target', style='display:none')
        form#my_form(action='/upload/', target='form_target', method='post', enctype='multipart/form-data', style='width:0px;height:0;overflow:hidden')
            input(name='image', type='file', onchange="$('#my_form').submit();this.value='';")
    .form-group
        .btn-group
            button.btn.btn-success(ng-if="isAdmin", ng-click='commitDocument()') Опубликовать
            button.btn.btn-info(ng-if="isAdmin", ng-click='closeDocument()') Сохранить в черновики
            button.btn.btn-danger(ng-if="isAdmin", ng-click='removeDocument()') Удалить
    script.
        function dragover_handler(ev) {
         ev.preventDefault();
         // Set the dropEffect to move
         ev.dataTransfer.dropEffect = "move"
        }
        function drop_handler(ev) {
         ev.preventDefault();
         // Get the id of the target and add the moved element to the target's DOM
         var data = ev.dataTransfer.getData("text");
         ev.target.appendChild(document.getElementById(data));
        }